{% macro render_project_list(projects, show_user=False) %}
<table class="table table-striped table-vertical">
  <thead>
    <tr>
      <th class="c-project">project</th>
      <th class="c-messages">messages</th>
      <th class="c-hooks">hooks</th>
      <th class="c-channels">channels</th>
    </tr>
  </thead>
  <tbody>
    {% for project in projects %}
    <tr>
      <td>
        <div class="project-name">
          {%- if not project.public -%}
            <i class="icon-lock pull-left" alt="[This is a private project]" title="This is a private project"></i> 
          {%- endif -%}
          {%- if show_user -%}
            <a href="{{ url_for('projects.user_projects', username=project.owner.username) }}">
              {{ project.owner.username }}</a> <span class="muted">/</span>&nbsp;
          {%- endif -%}
          <a href="{{ url_for('projects.user_project', username=project.owner.username, projectname=project.name) }}">{{ project.name }}</a>
        </div>
        <div class="project-details">
          <small class="muted">created {{ project.created|pretty_date }}</small>
        </div>
      </td>
      <td class="c-messages">
        {{ project.message_count }}
      </td>
      <td class="c-hooks">
        {{ project.hooks.count() }}
      </td>
      <td class="c-channels">
        {{ project.channels.count() }}
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endmacro %}